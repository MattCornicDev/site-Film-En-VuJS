{"remainingRequest":"/Users/mattcornic/Documents/site-Film-En-VuJS/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mattcornic/Documents/site-Film-En-VuJS/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mattcornic/Documents/site-Film-En-VuJS/src/views/Home.vue","mtime":1625219785702},{"path":"/Users/mattcornic/Documents/site-Film-En-VuJS/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattcornic/Documents/site-Film-En-VuJS/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mattcornic/Documents/site-Film-En-VuJS/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattcornic/Documents/site-Film-En-VuJS/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEaXNwbGF5TW92aWVzIGZyb20gJy4uL2NvbXBvbmVudHMvRGlzcGxheU1vdmllcy52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0hvbWUnLAoKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBEaXNwbGF5TW92aWVzCgogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgdGhpcy5nZXRBbGxNb3ZpZXMoKTsKICAgICAgY29uc29sZS5sb2coIkxhIGxpc3RlIDogIixsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFMaXN0ZScpKTsKICAgICAgdGhpcy5tYUxpc3RlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFMaXN0ZScpKTsKICAgIH0sCiAgICBkYXRhKCl7CiAgICAgIHJldHVybnsKICAgICAgICBtb3ZpZXNMaXN0Om51bGwsCiAgICAgICAgcGF0aCA6ICJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbCIsCiAgICAgICAgb25lTW92aWU6bnVsbCwKICAgICAgICByZWxlYXNlX2RhdGU6IG51bGwsCiAgICAgICAgcGFnZUluZGV4Om51bGwsCiAgICAgICAgbWFsaXN0ZTpbXQogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBhc3luYyBnZXRBbGxNb3ZpZXMoKXsKICAgICAgICBjb25zdCBtb3ZpZXNUZW1wID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllL3BvcHVsYXI/YXBpX2tleT1hNDA2NDc4OTMyNjI5NGQxODM1MDdlYTA3MDc3NDc5ZiZsYW5ndWFnZT1mcicpOwogICAgICAgIHRoaXMubW92aWVzTGlzdCA9IG1vdmllc1RlbXAuZGF0YS5yZXN1bHRzOwogICAgICAgIHRoaXMucGFnZUluZGV4ID0gbW92aWVzVGVtcC5kYXRhLnBhZ2U7CiAgICAgIH0sCiAgICAgIGhpZGUgKCkgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5oaWRlKCdkZXRhaWxzJyk7CiAgICAgICAgfSwKICAgICAgYXN5bmMgZ2V0RGV0YWlscyhtb3ZpZUlkKXsKICAgICAgICB0aGlzLiRtb2RhbC5zaG93KCdkZXRhaWxzJyk7CiAgICAgICAgY29uc3QgbW92aWUgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZUlkfT9hcGlfa2V5PWE0MDY0Nzg5MzI2Mjk0ZDE4MzUwN2VhMDcwNzc0NzlmJmxhbmd1YWdlPWZyYCk7CiAgICAgICAgdGhpcy5vbmVNb3ZpZSA9IG1vdmllLmRhdGE7CiAgICAgICAgY29uc3QgeWVhclJlbGVhc2UgPSB0aGlzLm9uZU1vdmllLnJlbGVhc2VfZGF0ZS5zcGxpdCgnLScpOwogICAgICAgIHRoaXMucmVsZWFzZV9kYXRlID0geWVhclJlbGVhc2VbMF07CiAgICAgICAgCiAgICAgIH0sCiAgICAgIGFzeW5jIGdldFBhZ2UoaW5kZXgpewogICAgICAgIHRoaXMucGFnZUluZGV4ID0gaW5kZXg7CiAgICAgICAgY29uc3QgbW92aWVzVGVtcCA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS9wb3B1bGFyP2FwaV9rZXk9YTQwNjQ3ODkzMjYyOTRkMTgzNTA3ZWEwNzA3NzQ3OWYmbGFuZ3VhZ2U9ZnImcGFnZT0ke2luZGV4fWApOwogICAgICAgIHRoaXMubW92aWVzTGlzdCA9IG1vdmllc1RlbXAuZGF0YS5yZXN1bHRzOwogICAgICB9LAogICAgICBhZGRUb0xpc3QobW92aWUpewogICAgICAgdGhpcy5tYWxpc3RlLnB1c2gobW92aWUpOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFsaXN0ZSkKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWFMaXN0ZScsIEpTT04uc3RyaW5naWZ5KCB0aGlzLm1hbGlzdGUpICk7CiAgICAgICAgCiAgICAgIH0KICAgIH0KICB9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"container-movie\">\n      <div v-for=\"movie in moviesList\" :key=\"movie.name\">\n        <display-movies\n          :movieImage=\"path+movie.poster_path\"\n          :getDetails=\"getDetails\"\n          :id=\"movie.id\"\n        >\n        </display-movies>\n      </div>\n    </div>\n    <div class=\"change-page\">\n      <button class=\"btn-page\" v-if=\"pageIndex!=1\" @click=\"getPage(pageIndex-1)\"> Précédent </button>\n      <button class=\"btn-page\" @click=\"getPage(pageIndex+1)\">Suivant</button>\n    </div>\n    <!-- Modal pour le détails d'un film -->\n        <modal name=\"details\" :height=\"350\" class=\"modal-border\">\n          <div v-if=\"oneMovie\">\n            <div class=\"detailsContainer\">\n              <img class=\"poster-movie\" :src=\"path+oneMovie.poster_path\" width=\"220\" height=\"250\" :alt=\"oneMovie.title\"/>\n              <div>\n                <p class=\"title-film\">{{oneMovie.title}}</p>\n                <div>Synopsis : <p class=\"synopsis\"> {{oneMovie.overview}} </p></div>\n                <p class=\"note\">Note du public : {{oneMovie.vote_average}}/10</p>\n              </div> \n            </div>\n            <div class=\"fav\">\n              <button class=\"btn-fav\" @click=\"addToList(oneMovie)\">+ Ajouter à ma liste</button>\n            </div>\n          </div>\n        </modal>\n  </div>\n</template>\n\n<script>\nimport DisplayMovies from '../components/DisplayMovies.vue';\nimport axios from 'axios'; \nexport default {\n    name: 'Home',\n\n    components: {\n        DisplayMovies\n\n    },\n    mounted(){\n      this.getAllMovies();\n      console.log(\"La liste : \",localStorage.getItem('maListe'));\n      this.maListe = JSON.parse(localStorage.getItem('maListe'));\n    },\n    data(){\n      return{\n        moviesList:null,\n        path : \"https://image.tmdb.org/t/p/original\",\n        oneMovie:null,\n        release_date: null,\n        pageIndex:null,\n        maliste:[]\n      }\n    },\n    methods: {\n      async getAllMovies(){\n        const moviesTemp = await axios.get('https://api.themoviedb.org/3/movie/popular?api_key=a4064789326294d183507ea07077479f&language=fr');\n        this.moviesList = moviesTemp.data.results;\n        this.pageIndex = moviesTemp.data.page;\n      },\n      hide () {\n            this.$modal.hide('details');\n        },\n      async getDetails(movieId){\n        this.$modal.show('details');\n        const movie = await axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=a4064789326294d183507ea07077479f&language=fr`);\n        this.oneMovie = movie.data;\n        const yearRelease = this.oneMovie.release_date.split('-');\n        this.release_date = yearRelease[0];\n        \n      },\n      async getPage(index){\n        this.pageIndex = index;\n        const moviesTemp = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=a4064789326294d183507ea07077479f&language=fr&page=${index}`);\n        this.moviesList = moviesTemp.data.results;\n      },\n      addToList(movie){\n       this.maliste.push(movie);\n        console.log(this.maliste)\n        localStorage.setItem('maListe', JSON.stringify( this.maliste) );\n        \n      }\n    }\n  }\n</script>\n<style>\n.container-movie{\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.detailsContainer{\n  display: flex;\n  flex-direction: row;\n}\n.title-film{\n  margin-top: 15px;\n  font-size: 22px;\n  color: #e4872c;\n  margin-bottom: 1em;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  margin-left: 15px;\n  font-weight: bold;\n}\n.synopsis{\n  font-size: 13px;\n  font-style: italic;\n  margin-bottom: 10px;\n  margin-left:15px;\n  margin-right: 15px;\n}\n.note{\n  margin-left:15px;\n  color :#0B488C;\n  size: 18px;\n}\n.fav{\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.btn-fav{\n  margin-top:10px;\n  margin-right: 20px;\n  font-weight: bold;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  background-color: #e4872c;\n  color: white;\n  width: 180px;\n  height: 30px;\n  border-radius: 15px ;\n  margin-left: 10px;\n}\n.btn-fav:hover{\n  background-color: white;\n  border: 2px solid #e4872c;\n  color: #e4872c;\n}\n.poster-movie{\n  margin-left: 15px ;\n  margin-top: 15px;\n}\n.btn-page{\n  margin-bottom: 20px;\n  margin-top:10px;\n  margin-right: 20px;\n  font-weight: bold;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  background-color: #e4872c;\n  color: white;\n  width: 180px;\n  height: 30px;\n  border-radius: 15px ;\n  margin-left: 10px;\n}\n.btn-page:hover{\n  background-color: white;\n  border: 2px solid #e4872c;\n  color: #e4872c;\n}\n.change-page{\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.modal-border{\n  background: linear-gradient(120deg, #0B488C 0%, #e4872c 100%);\n  padding: 3px;\n  padding: 1rem;\n  position: relative;\n}\n</style>"]}]}